{"datasets": [{"name": "dataset_20","displayName": "% Active Devices by Country Dataset","asset_name": "workspace.default.mv_hpx_events_model","queryLines": ["SELECT `Geo Country Code` AS `Country`, MEASURE(SUM(`Active Devices`)) AS `MAU`, MEASURE(SUM(`Active Devices`)) / group_aggregate(SUM(`Active Devices`), query_groups() - {`Geo Country Code`}, query_filters()) AS `% Active Devices by Country`, RANK() OVER (ORDER BY MEASURE(SUM(`Active Devices`)) DESC) AS `Rank` FROM workspace.default.mv_hpx_events_model WHERE `App Version` NOT IN ('not a store release', 'other non-releases') AND `Event Date Time` >= '2023-05-01' AND `Os Version` IS NOT NULL GROUP BY `Geo Country Code` ORDER BY `Rank` LIMIT 10"]}],"pages": [{"name": "page_20","displayName": "% Active Devices by Country (Top 10)","layout": [{"widget": {"name": "widget_20","queries": [{"name": "main_query","query": {"datasetName": "dataset_20","fields": [{"name": "Country","expression": "`Country`"},{"name": "% Active Devices by Country","expression": "MEASURE(SUM(`Active Devices`)) / group_aggregate(SUM(`Active Devices`), query_groups() - {`Geo Country Code`}, query_filters())"},{"name": "MAU","expression": "MEASURE(SUM(`Active Devices`))"},{"name": "Rank","expression": "RANK() OVER (ORDER BY MEASURE(SUM(`Active Devices`)) DESC)"}],"disaggregated": false}}],"spec": {"version": 3,"widgetType": "bar","encodings": {"x": {"fieldName": "Country","displayName": "Country","scale": {"type": "categorical"}},"y": {"fieldName": "% Active Devices by Country","displayName": "% Active Devices by Country","scale": {"type": "quantitative"}}},"frame": {"title": "% Active Devices by Country (Top 10)","showTitle": true}}}},"position": {"x": 0,"y": 0,"width": 12,"height": 8}}],"pageType": "PAGE_TYPE_CANVAS","filters": []}],"uiSettings": {"theme": {"widgetHeaderAlignment": "ALIGNMENT_UNSPECIFIED"}}}